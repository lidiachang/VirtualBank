
@model  VirtualBank.Models.Transaction

<h2>Transfer</h2>
<br>

@using (Html.BeginForm("TransferPost", "Customer", FormMethod.Post, new { @id = "SubmitForm" }))
{
    @Html.Hidden("customer_id")
    @*@Html.Hidden("trx_type", "T")*@
<div class="form-group">
    <label for="transfer_to" class="col-form-label">Transfer to IBAN:</label>
    <div class="input-group" id="transfer_to" style="width: 200px;">
        @Html.TextBox("transfer_to", null, new { @class = "form-control input-group-sm", style = "width:150px" })

    </div>

    @*<label for="amount" class="col-form-label">Amount:</label>*@
    <div class="input-group" id="amount" style="width: 200px;">
        @Html.LabelFor(m => m.amount):
        @Html.TextBoxFor(m=>m.amount, null, new { @class = "form-control input-group-sm numericType " })
    </div>

    <label for="desc" class="col-form-label">Description:</label>
    <div class="input-group" id="desc" style="width: 200px;">
        @Html.TextBox("desc", null, new { @class = "form-control input-group-sm", style = "width:150px" })

        @Html.ValidationMessageFor(m => m.desc, "", new { @class = "text-danger" })
    </div>

    <label for="desc_2" class="col-form-label">Description 2:</label>
    <div class="input-group" id="desc_2" style="width: 200px;">
        @Html.TextBox("desc_2", null, new { @class = "form-control input-group-sm", style = "width:150px" })

        @Html.ValidationMessageFor(m => m.desc_2, "", new { @class = "text-danger" })
    </div>

</div>

<div class="form-group form-control-md">
    <button type="submit" class="btn btn-primary" id="btnsubmit" hidden>Confirm</button>
    @Html.ActionLink("Cancel", "Main", "Customer", new { @ID = ViewBag.ID }, new { @id = "btnCancel", @class = "btn btn-danger" })
</div>
}
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        /** Initial **/
        $(document).ready(function () {
            $('#customer_id').val(@ViewBag.ID);
          });
        $("#SubmitForm").validate({
            rules: {
                transfer_to: {
                    required: true,
                    maxlength: 34
                },
                amount: {
                    required: true,
                    number: true
                }
            },
            submitHandler: function (form) {
                $("#btnsubmit").attr('disabled', 'disabled');
                form.submit();
            }
        });

    </script>
}

